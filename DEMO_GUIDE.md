# 注释提取功能 - 演示指南

## 🎬 快速演示

### 准备工作

1. **构建项目**

   ```bash
   cd /Users/xuzh/codes/aether-lsp
   cargo build --release
   ```

2. **编译 VSCode 扩展**

   ```bash
   cd vscode-extension
   npm run compile
   ```

3. **启动调试**
   - 在 VSCode 中按 `F5`
   - 等待新窗口打开

### 演示步骤

#### 场景 1: 单行注释

1. 打开 `examples/test_comments.aether`
2. 定位到以下代码：

   ```aether
   // 这是用户的名字
   Set MY_NAME "Alice"
   ```

3. 在文件末尾输入：`MY`
4. 按 `Ctrl+Space`（Windows/Linux）或 `Cmd+Space`（macOS）
5. **观察**：补全列表中 `MY_NAME` 应该显示 "这是用户的名字"

#### 场景 2: 多行注释

1. 定位到以下代码：

   ```aether
   // 用户的年龄
   // 注意：这是整数类型
   Set MY_AGE 25
   ```

2. 输入 `MY_A`，按 `Ctrl+Space`
3. **观察**：`MY_AGE` 的文档应该包含两行：
   - "用户的年龄"
   - "注意：这是整数类型"

#### 场景 3: 块注释

1. 定位到以下代码：

   ```aether
   /* 这是一个重要的配置变量
      它用来控制调试模式 */
   Set DEBUG_MODE True
   ```

2. 输入 `DEBUG`，按 `Ctrl+Space`
3. **观察**：`DEBUG_MODE` 的文档应该显示完整的块注释内容

#### 场景 4: 多行块注释

1. 定位到以下代码：

   ```aether
   /*
   多行注释示例
   这个变量存储了一个数组
   包含了前5个偶数
   */
   Set EVEN_NUMBERS [2, 4, 6, 8, 10]
   ```

2. 输入 `EVEN`，按 `Ctrl+Space`
3. **观察**：`EVEN_NUMBERS` 的文档应该显示完整的多行注释

#### 场景 5: Hover 提示

1. 将鼠标悬停在任意变量上（如 `MY_NAME`）
2. **观察**：Hover 提示框应该显示：

   ```
   Variable: MY_NAME
   
   这是用户的名字
   ```

### 验证清单

✅ 补全列表显示变量名  
✅ 补全列表显示注释内容  
✅ 多行注释正确显示  
✅ 块注释正确显示  
✅ Hover 提示显示注释  
✅ 无注释的变量不显示空文档  

## 🎥 录制演示视频

如果你想录制演示视频，可以使用以下工具：

### macOS

- **QuickTime Player**: 屏幕录制
- **Kap**: <https://getkap.co/>

### Windows

- **Xbox Game Bar**: Win+G
- **OBS Studio**: <https://obsproject.com/>

### Linux

- **SimpleScreenRecorder**
- **OBS Studio**

### 录制建议

1. **分辨率**: 1920x1080
2. **帧率**: 30fps 或 60fps
3. **时长**: 每个场景 30-60 秒
4. **编辑**: iMovie、DaVinci Resolve、Shotcut

## 📸 截图建议

推荐截取以下画面：

1. **补全列表截图**
   - 显示变量名和文档
   - 突出显示注释内容

2. **Hover 提示截图**
   - 鼠标悬停在变量上
   - 显示完整的注释文档

3. **代码对比截图**
   - 左侧：带注释的代码
   - 右侧：补全列表显示注释

## 🐛 常见问题

### Q: 补全列表不显示注释？

**A**: 检查以下几点：

1. 注释是否在变量声明的**上方**（不是下方或行内）
2. 注释和变量声明之间是否有其他代码
3. 是否正确启动了 LSP 服务器
4. 查看 Output 面板 → "Aether Language Server" 的日志

### Q: 只看到部分注释？

**A**:

- 检查注释是否连续（空行是允许的）
- 遇到非注释行会停止提取

### Q: 块注释不工作？

**A**:

- 确保 `/*` 和 `*/` 语法正确
- 查看日志是否有解析错误

## 📝 测试报告模板

```markdown
### 注释提取功能测试报告

**测试日期**: 2025-11-09
**测试人**: [你的名字]
**LSP 版本**: 0.1.0

#### 测试环境
- **操作系统**: macOS / Windows / Linux
- **VSCode 版本**: X.X.X
- **Rust 版本**: rustc X.X.X

#### 测试结果

| 场景 | 预期结果 | 实际结果 | 状态 |
|------|---------|---------|------|
| 单行注释 | 显示单行注释 | ✅ 正常 | 通过 |
| 多行注释 | 显示多行注释 | ✅ 正常 | 通过 |
| 块注释（单行） | 显示块注释 | ✅ 正常 | 通过 |
| 块注释（多行） | 显示多行块注释 | ✅ 正常 | 通过 |
| Hover 提示 | 显示注释 | ✅ 正常 | 通过 |
| 无注释变量 | 不显示文档 | ✅ 正常 | 通过 |

#### 问题和建议

[在这里记录发现的问题或改进建议]

#### 截图

[在这里添加截图]
```

## 🎉 分享你的体验

如果你觉得这个功能很有用，欢迎：

1. ⭐ Star 这个项目
2. 📝 提交 Issue 或 PR
3. 🔗 分享给其他开发者
4. 💬 在社区讨论你的使用体验

---

祝你使用愉快！🚀
